{% load humanize %}
<div class="mt-12 md:mt-20">
    <div class="flex gap-x-4 justify-between items-center mb-7">
        <div class="w-48 min-w-fit text-zinc-700 text-sm md:text-base md:font-yekanBakhBold">
            جدیدترین محصولات
        </div>
        <div class="h-[1px] w-full bg-gradient-to-r from-white via-zinc-300 to-white">
        </div>
        <div class="w-32 min-w-fit text-left">
            <a href="" class="group transition flex items-center justify-center gap-x-1 md:gap-x-2 text-zinc-600 hover:text-primary-500 text-xs md:text-sm text-center">
                مشاهده همه
                <svg class="fill-zinc-600 group-hover:-translate-x-1 transition group-hover:fill-primary-500 size-2.5 md:size-3" xmlns="http://www.w3.org/2000/svg" width="" height="" fill="" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>
            </a>
        </div>
    </div>
    <div class="containerPSlider swiper">
        <div class="productSlider2">
            <div class="card-wrapper swiper-wrapper pb-10">
                {% for product_data in products %}
                <div class="card swiper-slide bg-white border border-zinc-200 rounded-2xl p-2 md:p-3 text-sm hover:shadow-custom transition-shadow">
                    <a href="{{ product_data.product.get_absolute_url }}" class="text-zinc-800">
                        <img class="rounded-xl mb-3" src="{{ product_data.image_url }}" alt="{{ product_data.product.title }}">
                    </a>
                    <p class="text-zinc-400 text-xs">
                        {{ product_data.brand }}
                    </p>
                    <a href="{{ product_data.product.get_absolute_url }}" class="text-zinc-800 text-xs md:text-sm h-8 lg:h-10 line-clamp-2 mt-2">
                        {{ product_data.product.title }}
                    </a>
                    <div class="flex items-center justify-between mt-4">
                        <div class="flex gap-1.5">
                            {% for color in product_data.colors %}
                            <div class="size-4 rounded-full" style="background-color: {{ color }};"></div>
                            {% endfor %}
                        </div>
                        <div class="flex items-start gap-x-1 text-xs text-zinc-500">
                            <span>
                                <span>
                                    ({{ product_data.comments_count }})
                                </span>
                                <span>
                                    {{ product_data.rating }}
                                </span>
                            </span>
                            <svg class="fill-primary-500" xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="#f9bc00" viewBox="0 0 256 256"><path d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"></path></svg>
                        </div>
                    </div>
                    <div class="flex items-center justify-end border-t border-dashed border-zinc-300 mt-4 pt-2">
                        <div class="text-zinc-800 flex items-center gap-x-1 justify-end font-yekanBakhBold text-lg">
                            {{ product_data.price|intcomma }}
                            <img class="size-4" src="{{media_url}}image/icons/toman.png" alt="Toman icon">
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>